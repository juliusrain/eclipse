<html>
<head>
    <meta charset="UTF-8">
    <title>GAME</title>
    <link rel="stylesheet" href="gamestyle.css" />
</head>
<body>
    <div id="head"></div>
    <div id="loader">
        <div id="loadertop">
            Loading...
        </div>
        <div id="loaderimage"><img src="icons/ajax-loader.gif" alt="" /></div>
    </div>
    <div id="container">
        <div id="main"></div>
        <div id="top">
            <div id="food" class="resourcenumber" title="food"><img src="icons/apple-icon.png" /><span> </span></div>
            <div id="fuel" class="resourcenumber" title="fuel"><img src="icons/nuclear-icon.png" /><span> </span></div>
            <div id="metals" class="resourcenumber" title="metals"><img src="icons/Gold-Bullion-icon.png" /><span> </span></div>
        </div>
        <div id="left">
            <div id="shipvitals">
                <div id="shiphealth" class="vital">
                    <div id="healthbaroutside" class="baroutside">
                        <div id="healthbar" class="barinside">&nbsp;</div>
                    </div>
                    <div id="healthbarcaption" class="barcaption">health<div id="healthvalue" class="value">95%</div></div>
                </div>
                <div id="jumpcharge" class="vital">
                    <div id="jumpbaroutside" class="baroutside">
                        <div id="jumpbar" class="barinside">&nbsp;</div>
                    </div>
                    <div id="jumpbarcaption" class="barcaption">jump charge<div id="jumpvalue" class="value">95%</div></div>
                </div>
                <div id="lasercharge" class="vital">
                    <div id="laserbaroutside" class="baroutside">
                        <div id="laserbar" class="barinside">&nbsp;</div>
                    </div>
                    <div id="laserbarcaption" class="barcaption">laser charge<div id="laservalue" class="value">95%</div></div>
                </div>
            </div>
            <!--<div id="minibox"></div>-->
        </div>
        <!--<div id="middle"><div id="maindiv"></div></div>-->
        <div id="right">
            <div id="chatcontainer">
                <div id="chatmessages">
                    <div class="chatmessage">cwong81 <span>4:58pm</span><div>message 1</div></div>
                    <div class="chatmessage">bwong117 <span>5:03pm</span><div>message 2</div></div>
                    <div class="chatmessage">cwong81 <span>5:08pm</span><div>message 3</div></div>
                    <div class="chatmessage">cwong81 <span>5:18pm</span><div>message 4</div></div>
                    <div class="chatmessage">bwong117 <span>5:23pm</span><div>message 5</div></div>
                    <div class="chatmessage">cwong81 <span>5:28pm</span><div>message 6</div></div>
                    <div class="chatmessage">bwong117 <span>5:33pm</span><div>message 7</div></div>
                    <div class="chatmessage">cwong81 <span>5:38pm</span><div>message 8</div></div>
                    <div class="chatmessage">bwong117 <span>now</span><div>it's a new message, one to rule them all!!! all other messages will bow to this one, and everyone will be in trouble!</div></div>
                    <div class="chatmessage">cwong81 <span>now</span><div>this is an even better message than yours, rendering your whole argument invalid. Please refer to your manual for more information.</div></div>
                </div>
                <div id="chatwrite">
                    <input type="text" id="chatcompose" />
                </div>
            </div>
        </div>
        <div id="bottom">
            <div id="jumpmapcontrol" class="control"><span>J</span>Jump Map</div>
            <div id="mouselockcontrol" class="control"><span>L</span>Lock/Unlock Mouse</div>
            <div id="autorepaircontrol" class="control"><span>T</span>Auto-Repair</div>
        </div>
        <div id="minimap"></div>
    </div>
    <div id="jumpmapbox"></div>
    <div id="foot"></div>
    <!--<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>-->
    <script type="text/javascript" src="jquery/jquery-1.7.1.min.js"></script>

    <script type="text/javascript" src="build/Three.js"></script>
    <script type="text/javascript" src="js/Detector.js"></script>
    <script type="text/javascript" src="js/Stats.js"></script>

    <script type="text/javascript" src="frame.js"></script>
    <script type="text/javascript" src="UI.js"></script>

    <script type="text/javascript" src="Minimap.js"></script>
    <script type="text/javascript" src="Jumpmap.js"></script>
    <script type="text/javascript" src="Explosions.js"></script>
    <script type="text/javascript" src="GraphicsEngine.js"></script>

    <script type="text/javascript" src="GameConstants.js"></script>

    <script type="text/javascript" src="testobjects.js"></script>
    <script type="text/javascript" src="testsectormap.js"></script>
    <script type="text/javascript" src="Network.js"></script>

    <script type="text/javascript" src="GameEngine.js"></script>
    <script type="text/javascript" src="game.js"></script>

    <script id="vertexShader_explosion_large" type="x-shader/x-vertex">
        attribute float angle;
        attribute float size;
        attribute vec3 customColor;
        attribute vec3 direction;
        attribute float time;

        varying vec3 vColor;
        varying float vAngle;
        varying float vTime;

        void main() {
            float newsize;
            vec3 nDirection = direction;
            vAngle = angle;
            vColor = customColor;
            vTime = time;
            nDirection = normalize(direction);
            mat3 trmat = mat3(  0.0, 0.0, 10.0*nDirection.x*time,
                                0.0, 0.0, 10.0*nDirection.y*time,
                            0.0, 0.0, 10.0*nDirection.z*time);
            vec3 newposition = position * trmat;
            vec4 mvPosition = modelViewMatrix * vec4(newposition, 1.0);
            newsize = size;
            //newsize = 1000.0 / newsize;
            gl_PointSize = newsize * (50.0 / length(mvPosition.xyz));
            gl_Position = projectionMatrix * mvPosition;
        }
    </script>


    <script id="fragmentShader_explosion_large" type="x-shader/x-fragment">
        uniform sampler2D texture;
        uniform  vec3 color;

        varying vec3 vColor;
        varying float vAngle;
        varying float vTime;

        void main() {
            float cosx, sinx;
            sinx = sin(vAngle);
            cosx = cos(vAngle);
            mat2 rotmat = mat2( cosx, -sinx,
                                sinx, cosx);
            vec2 pc = (gl_PointCoord - vec2(0.5, 0.5)) * rotmat;
            pc += vec2(0.5, 0.5);
            vec4 c = vec4(color * vColor, 1.0 - vTime);
            gl_FragColor = c * texture2D(texture, pc);
        }
    </script>


    <script>
        $(function (){
            console.log('done loading');
            $('#loader').hide();
            //setTimeout(graphicsEngine.stopEngine, 15000);
        });
    </script>
</body>
</html>
